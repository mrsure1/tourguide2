# ğŸš€ ì‹œìŠ¤í…œ ì‚¬ìš© ê°€ì´ë“œ (ìµœì‹ )

## ğŸ“Œ ìµœê·¼ ì—…ë°ì´íŠ¸

### âœ… í•´ê²°ëœ ì´ìŠˆ

1. **Gemini ëª¨ë¸**: gemini-2.5-flash ì ìš© ì™„ë£Œ
2. **HWP íŒŒì„œ**: olefile ê¸°ë°˜ êµ¬í˜„ ì™„ë£Œ
3. **DB ìŠ¤í‚¤ë§ˆ**: amount ì»¬ëŸ¼ ì¶”ê°€ ë°©ë²• ì œê³µ

### âš ï¸ ì¡°ì¹˜ í•„ìš”

**Supabase í…Œì´ë¸” ìŠ¤í‚¤ë§ˆ ìˆ˜ì •**:
- `lib/db/create_table.sql` ì‹¤í–‰ í•„ìš”
- [ìŠ¤í‚¤ë§ˆ ìˆ˜ì • ê°€ì´ë“œ](Supabase_ìŠ¤í‚¤ë§ˆ_ìˆ˜ì •_ê°€ì´ë“œ.md) ì°¸ì¡°

---

## ğŸ¯ ê¸°ëŠ¥

### 1. API ë°ì´í„° ë¶„ì„

```bash
# ê³µê³µë°ì´í„°í¬í„¸ API ë°ì´í„° ë¶„ì„
python scripts/analyze_policies.py --source api --limit 10
```

### 2. HWP íŒŒì¼ ë¶„ì„ (NEW!)

```bash
# data/hwp_files/ ë””ë ‰í† ë¦¬ì˜ ëª¨ë“  HWP íŒŒì¼ ë¶„ì„
python scripts/analyze_policies.py --source hwp
```

**HWP íŒŒì¼ ì‚¬ìš©ë²•**:
1. `data/hwp_files/` ì— HWP íŒŒì¼ ì €ì¥
2. ìœ„ ëª…ë ¹ì–´ ì‹¤í–‰
3. ìë™ìœ¼ë¡œ í…ìŠ¤íŠ¸ ì¶”ì¶œ â†’ Gemini ë¶„ì„ â†’ DB ì €ì¥

### 3. ì „ì²´ ë°ì´í„° ë¶„ì„

```bash
# API + HWP ëª¨ë‘ ë¶„ì„
python scripts/analyze_policies.py --all
```

---

## ğŸ”§ Supabase DB ì„¤ì • (í•„ìˆ˜!)

### STEP 1: SQL ì‹¤í–‰

1. https://kjsauyubrwcdrkpivjbk.supabase.co ì ‘ì†
2. ì¢Œì¸¡ ë©”ë‰´ **SQL Editor** í´ë¦­
3. `lib/db/create_table.sql` ë‚´ìš© ë³µì‚¬ â†’ ë¶™ì—¬ë„£ê¸°
4. **RUN** ë²„íŠ¼ í´ë¦­

### STEP 2: í…ŒìŠ¤íŠ¸

```bash
python scripts/analyze_policies.py --limit 3
```

**ì„±ê³µ ì‹œ**: `âœ… DB ì €ì¥ ì™„ë£Œ` ë©”ì‹œì§€ ì¶œë ¥
**ì‹¤íŒ¨ ì‹œ**: [ìŠ¤í‚¤ë§ˆ ìˆ˜ì • ê°€ì´ë“œ](Supabase_ìŠ¤í‚¤ë§ˆ_ìˆ˜ì •_ê°€ì´ë“œ.md) ì°¸ì¡°

---

## ğŸ“Š ëª…ë ¹ì–´ ì˜µì…˜

| ì˜µì…˜ | ì„¤ëª… | ì˜ˆì‹œ |
|------|------|------|
| `--source` | ë°ì´í„° ì†ŒìŠ¤ ì„ íƒ | `--source hwp` |
| `--limit` | ë¶„ì„ ê°œìˆ˜ ì œí•œ | `--limit 10` |
| `--no-db` | DB ì €ì¥ ìŠ¤í‚µ | `--no-db` |
| `--output` | JSON ì¶œë ¥ íŒŒì¼ | `--output result.json` |
| `--all` | ëª¨ë“  ì†ŒìŠ¤ ë¶„ì„ | `--all` |

### ì†ŒìŠ¤ ì˜µì…˜

- `api` ë˜ëŠ” `sample`: API ë°ì´í„°ë§Œ
- `hwp`: HWP íŒŒì¼ë§Œ
- `all`: API + HWP ëª¨ë‘

---

## ğŸ“ í”„ë¡œì íŠ¸ êµ¬ì¡°

```
policymatch-korea/
â”œâ”€â”€ lib/
â”‚   â”œâ”€â”€ ai/
â”‚   â”‚   â””â”€â”€ gemini_analyzer.py      # Gemini 2.5-flash ë¶„ì„
â”‚   â”œâ”€â”€ parsers/
â”‚   â”‚   â”œâ”€â”€ api_parser.py           # API ë°ì´í„° íŒŒì„œ
â”‚   â”‚   â””â”€â”€ hwp_parser.py           # HWP íŒŒì¼ íŒŒì„œ (NEW!)
â”‚   â””â”€â”€ db/
â”‚       â”œâ”€â”€ supabase_client.py      # DB í´ë¼ì´ì–¸íŠ¸
â”‚       â””â”€â”€ create_table.sql        # í…Œì´ë¸” ìƒì„± SQL
â”œâ”€â”€ scripts/
â”‚   â”œâ”€â”€ analyze_policies.py         # ë©”ì¸ ìŠ¤í¬ë¦½íŠ¸
â”‚   â””â”€â”€ test_system.py              # ì‹œìŠ¤í…œ í…ŒìŠ¤íŠ¸
â”œâ”€â”€ data/
â”‚   â””â”€â”€ hwp_files/                  # HWP íŒŒì¼ ì €ì¥ì†Œ
â”‚       â”œâ”€â”€ bizinfo/
â”‚       â”œâ”€â”€ k-startup/
â”‚       â””â”€â”€ manual/
â””â”€â”€ docs/
    â”œâ”€â”€ AI_ë©”íƒ€ë°ì´í„°_ì¶”ì¶œ_ê°€ì´ë“œ.md
    â””â”€â”€ Supabase_ìŠ¤í‚¤ë§ˆ_ìˆ˜ì •_ê°€ì´ë“œ.md (NEW!)
```

---

## ğŸ’¡ ì‚¬ìš© ì‹œë‚˜ë¦¬ì˜¤

### ì‹œë‚˜ë¦¬ì˜¤ 1: HWP íŒŒì¼ ë¶„ì„

```bash
# 1. HWP íŒŒì¼ ì €ì¥
# data/hwp_files/ ì— ì •ì±…ê³µê³ .hwp ì €ì¥

# 2. ë¶„ì„ ì‹¤í–‰
python scripts/analyze_policies.py --source hwp --no-db --output hwp_result.json

# 3. ê²°ê³¼ í™•ì¸
# hwp_result.json íŒŒì¼ ì—´ì–´ë³´ê¸°
```

### ì‹œë‚˜ë¦¬ì˜¤ 2: DB ì €ì¥

```bash
# 1. Supabase SQL ì‹¤í–‰ (ìµœì´ˆ 1íšŒ)
# create_table.sql ì‹¤í–‰

# 2. ë¶„ì„ + DB ì €ì¥
python scripts/analyze_policies.py --limit 10

# 3. Supabase ëŒ€ì‹œë³´ë“œì—ì„œ ë°ì´í„° í™•ì¸
```

### ì‹œë‚˜ë¦¬ì˜¤ 3: ëŒ€ëŸ‰ ë¶„ì„

```bash
# ëª¨ë“  ë°ì´í„° ë¶„ì„ (ì‹œê°„ ì†Œìš”)
python scripts/analyze_policies.py --all

# ì§„í–‰ìƒí™© ì‹¤ì‹œê°„ í™•ì¸
# í„°ë¯¸ë„ì— ë¶„ì„ í˜„í™© ì¶œë ¥ë¨
```

---

## ğŸ” íŠ¸ëŸ¬ë¸”ìŠˆíŒ…

### Q1: DB ì €ì¥ ì‹¤íŒ¨ (`amount` ì»¬ëŸ¼ ì˜¤ë¥˜)
**A**: [Supabase ìŠ¤í‚¤ë§ˆ ìˆ˜ì • ê°€ì´ë“œ](Supabase_ìŠ¤í‚¤ë§ˆ_ìˆ˜ì •_ê°€ì´ë“œ.md) ì°¸ì¡°

### Q2: HWP íŒŒì¼ ì¶”ì¶œ ì‹¤íŒ¨
**A**: 
- HWP 5.0 ì´ìƒë§Œ ì§€ì›
- íŒŒì¼ì´ ì†ìƒë˜ì§€ ì•Šì•˜ëŠ”ì§€ í™•ì¸
- `olefile` íŒ¨í‚¤ì§€ ì„¤ì¹˜ í™•ì¸: `pip install olefile`

### Q3: Gemini API í• ë‹¹ëŸ‰ ì´ˆê³¼
**A**: 
- Rate Limiting ì„¤ì • í™•ì¸ (ê¸°ë³¸ 4ì´ˆ ê°„ê²©)
- `--limit` ì˜µì…˜ìœ¼ë¡œ ì†ŒëŸ‰ë§Œ í…ŒìŠ¤íŠ¸
- Google AI Studioì—ì„œ í• ë‹¹ëŸ‰ í™•ì¸

---

## ğŸ“ˆ ë¶„ì„ ê²°ê³¼ ì˜ˆì‹œ

```json
{
  "title": "ì²­ë…„ ì°½ì—… ì§€ì›ì‚¬ì—…",
  "summary": "ì„œìš¸ì‹œ ì²­ë…„ ì°½ì—…ìë¥¼ ëŒ€ìƒìœ¼ë¡œ ìµœëŒ€ 5ì²œë§Œì› ì‚¬ì—…í™” ìê¸ˆ ì§€ì›",
  "region": "ì„œìš¸",
  "biz_age": "3ë…„ë¯¸ë§Œ",
  "industry": "IT, ì½˜í…ì¸ ",
  "target_group": "ì²­ë…„",
  "support_type": "ìœµì",
  "amount": "ìµœëŒ€ 5ì²œë§Œì›",
  "success": true
}
```
